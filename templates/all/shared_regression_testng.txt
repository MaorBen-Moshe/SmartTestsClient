<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "https://testng.org/testng-1.0.dtd">
<suite name="Minimal Acceptance Testing" parallel="tests" thread-count="8">


    <parameter name="test.repository.folderPath" value="./com/amdocs/core/oc/shared/repository/,/com/amdocs/ordercapture/repository/"/>
    <parameter name="retryConfig.enabled" value="true"/>
    <parameter name="retryConfig.totalRetryCount" value="100"/>
    <parameter name="retryConfig.retryCondition.0.enabled" value="true"/>
    <parameter name="retryConfig.retryCondition.0.responseCode" value="502"/>
    <parameter name="retryConfig.retryCondition.0.sleepTime" value="2000"/>
    <parameter name="retryConfig.retryCondition.0.maxRetryCount" value="1"/>

    <parameter name="defaultApplication" value="oc"/>
    <parameter name="oc.authentication.keycloak.class" value="com.amdocs.authorizationutilities.keycloak.actions.AuthorizationKeycloak"/>
    <parameter name="oc.authentication.a3s.class" value="com.amdocs.authorizationutilities.a3s.actions.AuthorizationA3S"/>
    <parameter name="a3s.token" value="Basic YTNzRGVwbG95ZXI6QTNzRGVwbG95ZXIh"/>
    <parameter name="oc.authentication" value="keycloak" /><!-- inorder to move to non apigw <parameter name="oc.authentication" value="a3s" />-->
    <parameter name="care.isSimulator" value="true"/>

    <parameter name="openshift.oc.baseUri" value="OPENSHIFT_OC_BASEURI"/>
    <parameter name="openshift.oc.project.name" value="OPENSHIFT_OC_PROJECT_NAME"/>
    <parameter name="openshift.oc.project.token" value="OPENSHIFT_OC_PROJECT_TOKEN"/>

<!--    <parameter name="openshift.oc.baseUri" value="https://api.ilocpde456.ocpd.corp.amdocs.com:6443"/>-->
<!--    <parameter name="openshift.oc.project.name" value="oc-cd-group4-coc-include-ed"/>-->
<!--    <parameter name="openshift.oc.project.token" value="Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6ImFoNVZGZkNTZ2ZJM2Y4V3RPa3hzU2ZRT3ZCRlY5QUJNUWRrMFI5bHhvRzQifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJvYy1jZC1ncm91cDQtY29jLWluY2x1ZGUtZWQiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoiZml0LXNhLXRva2VuLWM2bTZqIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImZpdC1zYSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6ImRkNzhhYmUzLWZlYTEtNDlhMC1iNjFmLTNiMGYyMTAyYjcwMCIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDpvYy1jZC1ncm91cDQtY29jLWluY2x1ZGUtZWQ6Zml0LXNhIn0.KOiN1JaL65C8GdGDfcd9MPadIpvsyZYJqdSEukxQVpQSxb529tNQm51BqlUnz6McDg0-V3rlYpRRzwflXrJl_OIVlrU32saigTnOdB7C8vvZFMytFzkh3R_Fq7Emh8Hg5y7pzrsVeoSn8ztzQidceZxnTkroqUPHtE3DM1HyobMSqfxeQ6noSVTGPbHTHzTYZkK8l0oXra8HubrPu4Fu7ZcsCuYD4dU8rf_zxbfPf6MS2n4zf3XYNEVf943nspJcn3hQcA0fwteIdWWoT00qHlzKtyWvFkqYmaNvvC93agMr8lWWr4-XCu38CW_D_CEB-ARx95ApcTI9-FN2Ei-w0L9aiD-BX7R0i0tVXNU2WkD-AGc3ZI3qSL5rsX0jA-sLUQenmwScF4ddjdx5MkV8YEUaBK7XPLh5L-S9yBOyje_x-Wq5zo7QrH7wOyLvEUnZgYjdy5HGKgejiy7RhpiBAiOGrE4G6e55LR6P9OBqh4jHarplhGBLmsaYXjD3lK2QWS8cIGiYk4Go_mh55scHct0IVWMBiStAxT1YvuBEjY6PzNx1qYg3HoM_yqPxUPYGRCCdYNri2-P50gAfEgGPlFk43iLtJM_Nl2QH_cAcQJF8s7RUdji1XuOuZ1qh6k8Q5bQDrlIswYmToWvrSqm4z44-N0bL_eOw1Dh6Vf7PYe4"/>-->


    <!-- start APIGW -->
    <parameter name="oc.service.baseUri" value="{{oc.service.amd-apigw-stack-service.baseUri}}" /><!-- comment out for non apigw -->
    <parameter name="oc.service.oc-wiremock-service.baseUri" value="{{oc.service.oc-wiremock-service.baseUri}}" />
    <parameter name="oc.service.asm-services-cloud-service.baseUri" value="{{oc.service.asm-services-cloud-service.baseUri}}" />
    <parameter name="oc.service.keycloak.baseUri" value="{{oc.service.keycloak.baseUri}}" />
    <parameter name="oc.service.product-offering-service.baseUri" value="{{oc.service.product-offering-service.baseUri}}" />
    <parameter name="oc.service.productorder-productorder-service.POST/productOrdering/v2.1/productOrder/{productOrderId}/orderItem/{orderItemId}/updateState.baseUri" value="{{oc.service.productorder-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.productorder-productorder-service.POST/productOrdering/v2.1/productOrder/{productOrderId}/orderItem/updateState.baseUri" value="{{oc.service.productorder-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.productorder-productorder-service.POST/productOrdering/v2.1/productOrder/{productOrderId}/updateState.baseUri" value="{{oc.service.productorder-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.pi-factory-service.POST/productInventoryManagement/v2/product/applyProductFromOrder.baseUri" value="{{oc.service.pi-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.productorder-productorder-service.GET/productOrdering/v2.1/productOrder/inflightProductModification.baseUri" value="{{oc.service.productorder-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.orderitemaccessor-service.GET/applicationContext/v0/entityAccessor/submittedOrderItem.baseUri" value="{{oc.service.orderitemaccessor-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.logicaldate-service.baseUri" value="{{oc.service.logicaldate-service.baseUri}}" />
    <parameter name="oc.service.scheduler-task-service.baseUri" value="{{oc.service.scheduler-task-service.baseUri}}" />
    <parameter name="oc.service.productorder-productorder-service.PATCH/productOrdering/v2.1/productOrder/{productOrderId}.baseUri" value="{{oc.service.productorder-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.productvalidator-service.POST/productConfigurator/v1.0/productConfigurationValidation/validate.baseUri" value="{{oc.service.productvalidator-service.baseUri}}" />
    <parameter name="oc.service.productconfigurator-price-service.POST/productConfigurator/v1.0/promotionQualification/qualifyPotentialPromotions.baseUri" value="{{oc.service.productconfigurator-price-service.baseUri}}" />
    <parameter name="oc.service.productconfigurator-qualification-service.POST/productConfigurator/v1.0/evaluateQualificationRules.baseUri" value="{{oc.service.productconfigurator-qualification-service.baseUri}}" />
    <parameter name="oc.service.productorder-productorder-service.POST/productOrderingManagement/v4/productOrder/archive.baseUri" value="{{oc.service.productorder-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.productorder-productorder-service.POST/productOrderingManagement/v4/productOrder/purge.baseUri" value="{{oc.service.productorder-domainrouter-service.baseUri}}" />

    <!-- TMF v4 start -->
    <parameter name="oc.service.pi-search-service.POST/productInventoryManagement/v4/productSearch/query.baseUri" value="{{oc.service.pi-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.pi-factory-service.POST/productInventoryManagement/v4/product/applyProductFromOrder.baseUri" value="{{oc.service.pi-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.productorder-productorder-service.PATCH/productOrderingManagement/v4/productOrder/{productOrderId}.baseUri" value="{{oc.service.productorder-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.productorder-productorder-service.POST/productOrderingManagement/v4/productOrder/{productOrderId}/manageState.baseUri" value="{{oc.service.productorder-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.productorder-productorder-service.POST/productOrderingManagement/v4/productOrder/queryInflightModification.baseUri" value="{{oc.service.productorder-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.productorder-productorder-service.POST/productOrderingManagement/v4/productOrder/{productOrderId}/orderItem/{orderItemId}/updateState.baseUri" value="{{oc.service.productorder-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.productorder-productorder-service.POST/productOrderingManagement/v4/productOrder/{productOrderId}/orderItem/updateState.baseUri" value="{{oc.service.productorder-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.productorder-productorder-service.POST/productOrderingManagement/v4/productOrder/{productOrderId}/updateState.baseUri" value="{{oc.service.productorder-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.productorder-productorder-service.GET/productOrderingManagement/v4/productOrder/inflightProductModification.baseUri" value="{{oc.service.productorder-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.productorder-productorder-service.PATCH/productOrderingManagement/v4/productOrder/{productOrderId}.baseUri" value="{{oc.service.productorder-domainrouter-service.baseUri}}" />
    <parameter name="oc.service.productorder-deliverproductorder-service.POST/productOrderingManagement/v4/productOrder/validate/installationMethod.baseUri" value="{{oc.service.productorder-deliverproductorder-service.baseUri}}" />
    <parameter name="oc.service.productorder-deliverproductorder-service.POST/productOrderingManagement/v4/productOrder/validate/deliveryMethod.baseUri" value="{{oc.service.productorder-deliverproductorder-service.baseUri}}" />
    <parameter name="oc.service.productorder-manage-service.POST/productOrderingManagement/v4/productOrder/{productOrderId}/productOrderItem/manageProductOrderItemRelationship.baseUri" value="{{oc.service.productorder-manage-service.baseUri}}" />
    <parameter name="oc.service.productorder-productorder-service.POST/productOrderingManagement/v4/productOrder/queryInflightModification.baseUri" value="{{oc.service.productorder-domainrouter-service.baseUri}}" />
    <!-- TMF v4 end -->

    <parameter name="appointment.service.appointment-bridge-service.baseUri" value="{{oc.service.appointment-bridge-service.baseUri}}" />
    <parameter name="srm.service.resource-management-service.baseUri" value="{{oc.service.resource-management-service.baseUri}}" />
    <parameter name="servicequalificationhooks.service.servicequalification-servicequalificationhooks-service.baseUri" value="{{oc.service.servicequalification-servicequalificationhooks-service.baseUri}}" />
    <parameter name="productstockbridge.service.stock-productstockbridge-service.baseUri" value="{{oc.service.stock-productstockbridge-service.baseUri}}" />
    <parameter name="care.service.customeraccessor-domainrouter-service.baseUri" value="{{oc.service.customeraccessor-domainrouter-service.baseUri}}" />
    <parameter name="care.service.account-billingaccount-service.baseUri" value="{{oc.service.account-billingaccount-service.baseUri}}" />
    <parameter name="care.service.place-place-service.baseUri" value="{{oc.service.place-place-service.baseUri}}" />
    <parameter name="care.service.customer-management-domainrouter-service.baseUri" value="{{oc.service.customer-management-domainrouter-service.baseUri}}" />
    <parameter name="care.service.account-relatedaccount-service.baseUri" value="{{oc.service.account-relatedaccount-service.baseUri}}" />
    <parameter name="care.service.party-relatedparty-service.baseUri" value="{{oc.service.party-relatedparty-service.baseUri}}" />
    <parameter name="rtb.service.paymentmanagement-payment-service.baseUri" value="{{oc.service.paymentmanagement-payment-service.baseUri}}" />
    <parameter name="care.service.party-organization-service.baseUri" value="{{oc.service.party-organization-service.baseUri}}" />
    <parameter name="prm.service.prepaybalance-management-service.baseUri" value="{{oc.service.prepaybalance-management-service.baseUri}}" />
    <parameter name="oh.service.orderworkflow-domainrouter-service.baseUri" value="{{oc.service.oc-wiremock-service.baseUri}}" />
    <parameter name="care.service.geographicaddressaccessor-service.baseUri" value="{{oc.service.geographicaddressaccessor-service.baseUri}}" />
  	<parameter name="care.service.geographicsiteaccessor-service.baseUri" value="{{oc.service.oc-wiremock-service.baseUri}}" />
    <parameter name="care.service.geographicsite-geographicsite-service.baseUri" value="{{oc.service.oc-wiremock-service.baseUri}}" />
    <parameter name="care.service.geographicaddress-geographicaddress-service.baseUri" value="{{oc.service.oc-wiremock-service.baseUri}}" />
    <parameter name="jdk.tls.client.protocols" value="TLSv1.2" />
    <parameter name="hvo.service.highvolumeorder-highvolumeorder-service.baseUri" value="{{oc.service.oc-wiremock-service.baseUri}}" />


    <parameter name="getOpenShiftServices.enabled" value="true" />
    <parameter name="oc.service.kafka-service.baseUri" value="{{oc.service.kafka-service.externalHost.baseUri}}" />
    <parameter name="oc.kafka.service.ssl.enabled" value="true" />
    <parameter name="custom.report.visibility.indexedclasses" value="true" />

    <parameter name="coreapi.rest.utils.RestDriver.RestRequest.header.X-API-LOGGER-FIELDS.isEnabled" value="true" />

    <listeners>
        <listener class-name="com.amdocs.corereport.listener.testng.custom.v5.TestNGCustomReporterListener" />
    </listeners>

    <test name="Automation Setup">
        <classes>
            <class name="com.amdocs.core.oc.test.automationSetup.OrderCaptureAutomationSetup"/>
        </classes>
    </test>

    [TESTS HERE]

</suite>